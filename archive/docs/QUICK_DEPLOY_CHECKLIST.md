# ğŸš€ CentOS 7.9 + å®å¡”ç³»ç»Ÿå¿«é€Ÿéƒ¨ç½²æ¸…å•

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### âœ… ç¯å¢ƒè¦æ±‚æ£€æŸ¥
- [ ] CentOS 7.9.2009 x86_64
- [ ] Python 3.7.9
- [ ] å®å¡”Linuxé¢æ¿å·²å®‰è£…
- [ ] å†…å­˜ â‰¥ 2GB
- [ ] ç£ç›˜ç©ºé—´ â‰¥ 10GB
- [ ] ç½‘ç»œè¿æ¥æ­£å¸¸

### âœ… æ–‡ä»¶å‡†å¤‡
- [ ] é¡¹ç›®æºä»£ç å·²å‡†å¤‡
- [ ] Tushare API Tokenå·²è·å–
- [ ] æœåŠ¡å™¨SSHè®¿é—®æ­£å¸¸

---

## ğŸ¯ å¿«é€Ÿéƒ¨ç½²æ­¥éª¤

### ç¬¬1æ­¥ï¼šç¯å¢ƒæ£€æŸ¥ (3åˆ†é’Ÿ)
```bash
# ä¸Šä¼ å¹¶è¿è¡Œç¯å¢ƒæ£€æŸ¥è„šæœ¬
chmod +x check_environment.sh
./check_environment.sh
```

### ç¬¬2æ­¥ï¼šä¸Šä¼ é¡¹ç›®æ–‡ä»¶ (5åˆ†é’Ÿ)
**æ–¹å¼Aï¼šå®å¡”é¢æ¿ä¸Šä¼ **
1. ç™»å½•å®å¡”é¢æ¿
2. æ–‡ä»¶ç®¡ç† â†’ `/www/wwwroot/`
3. åˆ›å»º `gupiao` ç›®å½•
4. ä¸Šä¼ é¡¹ç›®æ–‡ä»¶

**æ–¹å¼Bï¼šå‘½ä»¤è¡Œä¸Šä¼ **
```bash
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp -r /path/to/gupiao/* root@your-server:/www/wwwroot/gupiao/
```

### ç¬¬3æ­¥ï¼šè‡ªåŠ¨éƒ¨ç½² (10åˆ†é’Ÿ)
```bash
cd /www/wwwroot/gupiao
chmod +x deploy.sh
./deploy.sh
```

### ç¬¬4æ­¥ï¼šé…ç½®APIå¯†é’¥ (2åˆ†é’Ÿ)
```bash
vim /www/wwwroot/gupiao/config/api_keys.py
# è®¾ç½® TUSHARE_TOKEN = "your_token_here"
```

### ç¬¬5æ­¥ï¼šå®å¡”é¢æ¿é…ç½® (3åˆ†é’Ÿ)
1. å®‰å…¨ â†’ æ·»åŠ ç«¯å£è§„åˆ™ â†’ 8501/TCP
2. ç½‘ç«™ â†’ æ·»åŠ ç«™ç‚¹ï¼ˆå¯é€‰åŸŸåé…ç½®ï¼‰
3. SSLè¯ä¹¦ç”³è¯·ï¼ˆå¯é€‰HTTPSï¼‰

### ç¬¬6æ­¥ï¼šå¯åŠ¨éªŒè¯ (2åˆ†é’Ÿ)
```bash
# å¯åŠ¨åº”ç”¨
supervisorctl start gupiao

# æ£€æŸ¥çŠ¶æ€
supervisorctl status gupiao

# æµ‹è¯•è®¿é—®
curl -I http://localhost:8501
```

---

## ğŸ”§ ç®¡ç†å‘½ä»¤

```bash
# ä½¿ç”¨ç®¡ç†è„šæœ¬
chmod +x manage.sh

./manage.sh start     # å¯åŠ¨æœåŠ¡
./manage.sh stop      # åœæ­¢æœåŠ¡
./manage.sh restart   # é‡å¯æœåŠ¡
./manage.sh status    # æŸ¥çœ‹çŠ¶æ€
./manage.sh logs      # æŸ¥çœ‹æ—¥å¿—
./manage.sh update    # æ›´æ–°æ•°æ®
./manage.sh backup    # å¤‡ä»½ç³»ç»Ÿ
./manage.sh health    # å¥åº·æ£€æŸ¥
```

---

## ğŸŒ è®¿é—®åœ°å€

- **ç›´æ¥è®¿é—®**: http://your-server-ip:8501
- **åŸŸåè®¿é—®**: http://your-domain.com (éœ€é…ç½®Nginx)
- **HTTPSè®¿é—®**: https://your-domain.com (éœ€é…ç½®SSL)

---

## ğŸ‰ åŠŸèƒ½éªŒè¯

### âœ… åŸºç¡€åŠŸèƒ½æµ‹è¯•
- [ ] æœç´¢"ä¸­çŸ³æ²¹" - åº”è¿”å›ç›¸å…³è‚¡ç¥¨
- [ ] æœç´¢"601857" - ç²¾ç¡®ä»£ç åŒ¹é…  
- [ ] æœç´¢"è…¾è®¯" - æ¸¯è‚¡æœç´¢
- [ ] æœç´¢"è‹¹æœ" - ç¾è‚¡æœç´¢

### âœ… ç³»ç»ŸåŠŸèƒ½æµ‹è¯•
- [ ] è‚¡ç¥¨é£é™©è¯„ä¼°æ­£å¸¸
- [ ] æ•°æ®æ›´æ–°åŠŸèƒ½æ­£å¸¸
- [ ] é¡µé¢å“åº”é€Ÿåº¦è‰¯å¥½
- [ ] æ—¥å¿—è®°å½•æ­£å¸¸

---

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³

**âŒ ç«¯å£æ— æ³•è®¿é—®**
```bash
# æ£€æŸ¥é˜²ç«å¢™
firewall-cmd --list-ports
firewall-cmd --permanent --add-port=8501/tcp
firewall-cmd --reload
```

**âŒ åº”ç”¨å¯åŠ¨å¤±è´¥**
```bash
# æŸ¥çœ‹æ—¥å¿—
tail -f /var/log/gupiao.log

# æ£€æŸ¥æƒé™
chown -R www:www /www/wwwroot/gupiao
```

**âŒ ä¾èµ–å®‰è£…å¤±è´¥**
```bash
# ä½¿ç”¨å›½å†…é•œåƒ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

**âŒ å†…å­˜ä¸è¶³**
```bash
# åˆ›å»ºäº¤æ¢æ–‡ä»¶
sudo dd if=/dev/zero of=/swapfile bs=1024 count=1048576
sudo mkswap /swapfile
sudo swapon /swapfile
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ğŸ” æ—¥å¿—æ–‡ä»¶ä½ç½®
- åº”ç”¨æ—¥å¿—: `/var/log/gupiao.log`
- Nginxæ—¥å¿—: `/www/wwwlogs/gupiao.access.log`
- ç³»ç»Ÿæ—¥å¿—: `/var/log/messages`

### ğŸ”§ é…ç½®æ–‡ä»¶ä½ç½®
- åº”ç”¨é…ç½®: `/www/wwwroot/gupiao/config/`
- Supervisoré…ç½®: `/etc/supervisor/conf.d/gupiao.conf`
- Nginxé…ç½®: å®å¡”é¢æ¿ â†’ ç½‘ç«™ â†’ é…ç½®

### ğŸ“Š ç›‘æ§å‘½ä»¤
```bash
# ç³»ç»Ÿèµ„æºç›‘æ§
top
htop
df -h
free -h

# åº”ç”¨çŠ¶æ€ç›‘æ§
supervisorctl status
netstat -tlnp | grep 8501
```

---

## ğŸ† éƒ¨ç½²æˆåŠŸæ ‡å¿—

å½“æ‚¨çœ‹åˆ°ä»¥ä¸‹å†…å®¹æ—¶ï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸï¼š

âœ… **5,728åªè‚¡ç¥¨æ•°æ®åº“** - ç›¸æ¯”åŸæ¥283åªå¢é•¿1924%  
âœ… **æ™ºèƒ½æœç´¢åŠŸèƒ½** - æ”¯æŒåç§°ã€ä»£ç ã€æ‹¼éŸ³æœç´¢  
âœ… **å®æ—¶é£é™©è¯„ä¼°** - å¤šç»´åº¦é£é™©åˆ†æç³»ç»Ÿ  
âœ… **Webç•Œé¢æ­£å¸¸** - Streamlitç•Œé¢å“åº”æµç•…  
âœ… **è¿›ç¨‹ç®¡ç†å®Œå–„** - Supervisorè‡ªåŠ¨é‡å¯  
âœ… **ç›‘æ§æ—¥å¿—å¥å…¨** - å®Œæ•´çš„è¿ç»´ç›‘æ§ä½“ç³»  

## ğŸ¯ æ€»éƒ¨ç½²æ—¶é—´ï¼šçº¦25åˆ†é’Ÿ

---

**ğŸ‰ æ­å–œï¼æ‚¨ç°åœ¨æ‹¥æœ‰äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½å¼ºå¤§çš„è‚¡ç¥¨åˆ†æç³»ç»Ÿï¼**

ç«‹å³è®¿é—® `http://your-server-ip:8501` å¼€å§‹ä½“éªŒå§ï¼
